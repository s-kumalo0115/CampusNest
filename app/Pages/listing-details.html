<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CampusNest | Listing Details</title>
    <link rel="stylesheet" href="../css/style.css" />

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- Firebase v10 modular -->
  <script type="module" src="../js/core/firebase.js"></script>
  <script type="module" src="../js/features/listing-details.js"></script>
  <script type="module" src="../js/core/auth.js"></script>
</head>

<body>
  <!-- ===== Navbar ===== -->
  <header class="header">
    <div class="container navbar">
      <div class="logo"> 
  <img src="../assets/images/logo.png.png" alt="CampusNest"/> 
  <span>CampusNest</span>
</div>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="listings.html" class="active">View Listings</a></li>
        <li><a href="landlords.html">Verified Landlords</a></li>
        <li><a href="add-listing.html">Add Listing</a></li>

        <li id="authContainer">
          <button id="authBtn" class="btn">Sign In</button>
        </li>

        <li class="dropdown" id="userDropdown" style="display:none;">
          <button id="userMenuBtn" class="user-btn">
            <span id="username">User</span>
          </button>

          <div class="dropdown-menu">
            <div class="dropdown-header">
              <strong id="userNameTop">User</strong>
            </div>
            <a href="profile.html">My Profile</a>
            <a href="enquiries.html">My Enquiries</a>
            <button id="logoutBtn">Logout</button>
          </div>
        </li>
      </ul>
    </div>
  </header>

  <!-- ===== Main Listing Section ===== -->
  <main>
    <section class="listing-details container">

      <!-- Hero Image -->
      <div id="main-image">
        <img src="https://english.dcu.ie/wp-content/uploads/2017/05/web-on-campus-residence-accommodation-dcu-english-Living-Area.png" alt="Main Listing" class="main-listing-image" />
      </div>
     <div id="listing-info" class="listing-info"></div>
      


      <!-- Image Gallery -->
      <div id="image-gallery" class="image-gallery">
        <button class="gallery-btn left" onclick="prevImage()"><i class="fas fa-chevron-left"></i></button>
        <img src="../assets/images/gallery/bedroom.jpg" alt="Gallery Image" class="gallery-image" id="galleryImage" />
        <button class="gallery-btn right" onclick="nextImage()"><i class="fas fa-chevron-right"></i></button>
      </div>

      <!-- Landlord Info -->
      <div id="landlord-info" class="landlord-info">
      </div>

      <!-- Map Section -->
      <div id="listing-map" class="listing-map">
        <h3>Property Location</h3>
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3583.045186502339!2d27.98699487505094!3d-26.18315236754747!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1e950b1b38e4d7f3%3A0x4a63adfa9b2e44a!2sUniversity%20of%20Johannesburg!5e0!3m2!1sen!2sza!4v1708123595290!5m2!1sen!2sza"
          allowfullscreen="" loading="lazy">
        </iframe>

        <div class="map-buttons">
          <button id="getDirectionsBtn" class="btn">Get Directions</button>
          <button id="findLocationBtn" class="btn">Find My Location</button>
        </div>
      </div>

    </section>
  </main>

  <!-- ===== Footer ===== -->
  <footer>
    <div class="container">
      <p>&copy; 2025 CampusNest | All Rights Reserved</p>
    </div>
  </footer>

  <div class="auth-modal" id="authModal" style="display:none;">
    <div class="auth-box">
      <button class="auth-close" id="authClose">&times;</button>

      <div class="auth-tabs">
        <button id="signInTab" class="active">Sign In</button>
        <button id="signUpTab">Sign Up</button>
      </div>

      <form id="signInForm" class="auth-form">
        <input type="email" id="signInEmail" placeholder="Email" required>
        <input type="password" id="signInPassword" placeholder="Password" required>
        <button type="submit" class="btn">Sign In</button>

        <button type="button" id="googleSignInBtn" class="google-btn">Sign In with Google</button>

        <p id="signInMessage" class="status-message error-message"></p>
      </form>

      <form id="signUpForm" class="auth-form" style="display:none;">
        <input type="text" id="signUpName" placeholder="Full Name" required>
        <input type="email" id="signUpEmail" placeholder="Email" required>
        <input type="password" id="signUpPassword" placeholder="Password" required>
        <button type="submit" class="btn">Sign Up</button>
        <p id="signUpMessage" class="status-message"></p>
      </form>
    </div>
  </div>
</body>
</html>